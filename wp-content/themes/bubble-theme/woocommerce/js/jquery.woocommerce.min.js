jQuery(function(i){i(".woocommerce-ordering select").each(function(){var e=i(this),o=i("<div></div>").html('<span class="current">'+e.find(":selected").html()+"</span>"+bubble_data.chevron_down).addClass("ordering-selector-wrapper").insertAfter(e),t=i("<div/>").addClass("ordering-dropdown-container").appendTo(o),n=i("<ul></ul>").addClass("ordering-dropdown").appendTo(t),r=0;e.find("option").each(function(){var t=i(this);n.append(i("<li></li>").html(t.html()).data("val",t.attr("value")).on("click",function(){e.val(i(this).data("val")),e.closest("form").submit()})),r=Math.max(o.find(".current").html(t.html()).width(),r)}),o.find(".current").html(e.find(":selected").html()).width(r),e.hide()}),i(".ordering-selector-wrapper").on("click",function(){i(this).toggleClass("open-dropdown")}),i(window).on("click",function(e){i(e.target).closest(".ordering-selector-wrapper.open-dropdown").length||i(".ordering-selector-wrapper.open-dropdown").removeClass("open-dropdown")}),i(".product-quick-view-button").click(function(e){e.preventDefault();var o="#quick-view-container",t="#product-quick-view",n=i(this).attr("data-product-id");i.post(bubble_data.ajaxurl,{action:"bubble_product_quick_view",product_id:n},function(e){i(document).find(o).find(t).html(e),i(document).find("#product-quick-view .variations_form").wc_variation_form(),i(document).find("#product-quick-view .variations_form").trigger("check_variations")}),i(document).ajaxComplete(function(){i.isFunction(i.fn.flexslider)&&(i(".product-images-slider").flexslider({animation:"slide",customDirectionNav:i(this).find(".flex-direction-nav a"),start:function(){i(".flexslider .slides img").show()}}),i("#product-quick-view .variations_form").on("found_variation.wc-variation-form",function(e,o){if(o&&o.image&&o.image.full_src){var t=i("#product-quick-view .product-gallery-image").find('img[src="'+o.image.full_src+'"]');t.length>0?i(".product-images-slider").flexslider(t.parent().index(".product-images-slider  .slide")-1):i(".product-images-slider").flexslider(0)}}),i("#product-quick-view .variations_form").on("reset_image",function(e,o){i(".product-images-slider").flexslider(0)}))}),i(document).find(o).is(":hidden")&&i(document).find(o).find(t).empty(),i(document).find(o).fadeIn(300),i("body").css("margin-right",window.innerWidth-i("body").width()+"px"),i("body").css("overflow","hidden"),i(window).on("mouseup",function(e){var n=i(t);(!n.is(e.target)&&0===n.has(e.target).length||i(".quickview-close-icon").is(e.target))&&(i(o).fadeOut(300),i("body").css("overflow",""),i("body").css("margin-right",""))}),i(document).on("keyup",function(e){i(t);27==e.keyCode&&(i(o).fadeOut(300),i("body").css("overflow",""),i("body").css("margin-right",""))})})});